<div class="topic-detail-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <p>Loading topic details...</p>
  </div>

  <!-- Topic Content -->
  <div *ngIf="!isLoading && topicData" class="topic-content">
    <!-- Header Section -->
    <div class="topic-header">
      <button mat-icon-button (click)="goBackToLocker()" class="back-button">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <div class="topic-info">
        <h1>{{topicData.topic_name}}</h1>
        <div class="topic-stats">
          <span class="stat-item">{{topicData.article_count}} Articles</span>
          <span class="stat-item">{{topicData.video_count}} Videos</span>
        </div>
      </div>
    </div>

    <!-- Tabbed Content -->
    <mat-tab-group class="topic-tabs">
      <mat-tab label="YouTube Analytics">
        <div class="tab-content">
          <mat-card>
            <mat-card-header>
              <mat-card-title>YouTube Video Analytics</mat-card-title>
              <mat-card-subtitle>{{topicData.video_count}} videos analyzed</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>Channel impact scores, views timeline, and sentiment analysis will appear here.</p>
            </mat-card-content>
          </mat-card>
        </div>
      </mat-tab>

      <mat-tab label="News Analytics">
        <div class="tab-content">
          <mat-card>
            <mat-card-header>
              <mat-card-title>News Source Analytics</mat-card-title>
              <mat-card-subtitle>{{topicData.article_count}} articles analyzed</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>Source reliability rankings, Guardian vs NewsAPI data, and fetch controls will appear here.</p>
            </mat-card-content>
          </mat-card>
        </div>
      </mat-tab>

      <mat-tab label="AI Insights">
        <div class="tab-content">
          <mat-card>
            <mat-card-header>
              <mat-card-title>Virality Prediction & Insights</mat-card-title>
              <mat-card-subtitle>ML-powered analysis</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>GNN virality scores, sentiment analysis, and topic modeling results will appear here.</p>
            </mat-card-content>
          </mat-card>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>

  <!-- Error State -->
  <div *ngIf="!isLoading && !topicData" class="error-container">
    <p>Topic not found.</p>
    <button mat-button (click)="goBackToLocker()">Back to Locker</button>
  </div>
</div>